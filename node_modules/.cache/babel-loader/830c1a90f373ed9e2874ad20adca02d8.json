{"ast":null,"code":"import _Row from \"antd/es/row\";\nimport _Col from \"antd/es/col\";\nimport _Input from \"antd/es/input\";\nimport _Modal from \"antd/es/modal\";\nimport _Card from \"antd/es/card\";\nimport _Button from \"antd/es/button\";\nimport _message from \"antd/es/message\";\nimport _Typography from \"antd/es/typography\";\nvar _jsxFileName = \"/home/ad3sh/Documents/client/src/components/landing.jsx\";\nimport React from 'react';\nimport HeroImg from \"./hero.svg\";\nimport Logo from './logo.png';\nimport Workflow from './workflow';\nimport Features from './features';\nimport Teams from '../containers/teams/teams';\nimport Footer from '../containers/footer/footer';\nimport { Graph } from \"react-d3-graph\";\nimport './waterflow.css';\nconst {\n  Text,\n  Link\n} = _Typography;\n\nclass Landing extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      const {\n        parentContract,\n        accounts\n      } = this.props.web3;\n      parentContract.methods.getAllDeployedFunds().call({\n        from: accounts[0],\n        gas: 3000000\n      }).then(result => {\n        let i;\n\n        for (i = 0; i < result.length; i++) {\n          this.getDetails(result[i], parentContract, accounts);\n        }\n      });\n    };\n\n    this.toggleModal = (type, bool) => {\n      this.setState({\n        [type]: bool\n      });\n    };\n\n    this.liveCampClicked = (name, owner) => {\n      console.log(name, owner);\n      this.props.liveCampClicked(name, owner);\n    };\n\n    this.handleChange = e => {\n      var name = e.target.name;\n      this.setState({\n        [name]: e.target.value\n      });\n    };\n\n    this.createCampClicked = () => {\n      if (this.state.name.substring(0, 5) == \"Check\") {\n        _message.error('Fund name Check# is reserved for testing purposes, please use any other fund name');\n      } else if (!this.state.checkifcampexists.hasOwnProperty(this.state.name)) {\n        this.setState({\n          ModalText: 'Please confirm transaction in your wallet provider, and wait till its confirmed',\n          confirmLoading: true\n        });\n        console.log(this.state.name, this.state.desc);\n        const {\n          parentContract,\n          accounts\n        } = this.props.web3;\n        parentContract.methods.createFunds(this.state.name, this.state.desc).send({\n          from: accounts[0],\n          gas: 3000000\n        }).then(() => {\n          _message.success('New Fund Created Succesfully');\n\n          let contractadd;\n          parentContract.methods.getAllDeployedFunds().call({\n            from: accounts[0],\n            gas: 3000000\n          }).then(result => {\n            contractadd = result[result.length - 1];\n            let t = this.state.liveCamp;\n            t.push({\n              name: this.state.name,\n              owner: contractadd\n            });\n            this.setState({\n              liveCamp: t\n            });\n            this.setState({\n              createCampVisible: false,\n              name: '',\n              desc: ''\n            });\n            this.setState({\n              ModalText: \"\",\n              confirmLoading: false\n            });\n            let x = this.state.checkifcampexists;\n            x[this.state.name] = true;\n            this.setState({\n              checkifcampexists: x\n            });\n          });\n        }).catch(() => {\n          _message.error('Sorry your TX was not successful Please try again');\n\n          this.setState({\n            ModalText: \"\",\n            confirmLoading: false\n          });\n        });\n      } else {\n        if (this.state.name == 'Federal Taxes' | this.state.name == 'Federal Tax' | this.state.name == 'pmcares') {\n          _message.error(`We have disabld ${this.state.name} as fund name to avoid ambiguity with existing funds`);\n        } else {\n          _message.error('Fund with given name already exist');\n        }\n      }\n    };\n\n    this.state = {\n      liveCampVisible: false,\n      createCampVisible: false,\n      liveCamp: [],\n      name: '',\n      desc: '',\n      funds: [],\n      mapNametoAddress: {},\n      checkifcampexists: {},\n      confirmLoading: false,\n      ModalText: ''\n    };\n  }\n\n  getDetails(add, parentContract, accounts) {\n    let flag = true;\n    this.props.web3.web3.eth.net.getId().then(result => {\n      if (result == 15001) {\n        flag = false;\n      }\n    }).then(() => {\n      parentContract.methods.getDetailsOfFund(add).call({\n        from: accounts[0],\n        gas: 3000000\n      }).then(fundinfo => {\n        // If you are wondering why did I add this weird conditions here\n        // Thats due to immutabilty of blockchain, let me explain\n        // Follwing are the funds in which the names of authorities were duplicaated beause of bug in frontend\n        // Due to which its functions are unstable\n        // If you are migratiing on new contart address on matic, remove this conditions\n        //for \"check\" condition its included for testing on local host\n        console.log(fundinfo.name.substring(0, 5));\n\n        if (flag | (fundinfo.name != 'Federal Taxes' && fundinfo.name != 'Federal Tax' && fundinfo.name != 'pmcares' && fundinfo.name.substring(0, 5) != \"Check\")) {\n          let t = this.state.liveCamp;\n          t.push({\n            'name': fundinfo.name,\n            'owner': add\n          });\n          this.setState({\n            liveCamp: t\n          });\n          let x = this.state.checkifcampexists;\n          x[fundinfo.name] = true;\n          this.setState({\n            checkifcampexists: x\n          });\n        } else {\n          let x = this.state.checkifcampexists;\n          x[fundinfo.name] = true;\n          this.setState({\n            checkifcampexists: x\n          });\n        }\n      });\n    });\n  }\n\n  render() {\n    return (\n      /*#__PURE__*/\n\n      /* Landing Hero Section */\n      React.createElement(\"div\", {\n        className: \"landing\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(_Row, {\n        className: \"hero\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(_Col, {\n        sm: 24,\n        md: 12,\n        className: \"hero-txt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Logo,\n        style: {\n          height: '100px',\n          width: 'auto'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"hero-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 7\n        }\n      }, \"AID Donation Tracking\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"hero-details\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 7\n        }\n      }, \"A Blockchain based Donation Tracker\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 43\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tagline\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 8\n        }\n      }, \"Transparent as Water\")), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(_Button, {\n        onClick: () => this.toggleModal('createCampVisible', true),\n        size: \"large\",\n        type: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 7\n        }\n      }, \"Create New Fund\"), /*#__PURE__*/React.createElement(_Modal, {\n        visible: this.state.liveCampVisible,\n        title: \"Live Funds\",\n        onOk: () => this.toggleModal('liveCampVisible', false),\n        onCancel: () => this.toggleModal('liveCampVisible', false),\n        footer: [/*#__PURE__*/React.createElement(_Button, {\n          key: \"back\",\n          type: \"primary\",\n          onClick: () => this.toggleModal('liveCampVisible', false),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 9\n          }\n        }, \"Return\")],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          overflowY: 'auto',\n          height: '350px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 8\n        }\n      }, this.state.liveCamp.map((obj, key) => {\n        return /*#__PURE__*/React.createElement(_Card, {\n          key: key,\n          onClick: () => this.liveCampClicked(obj.name, obj.owner),\n          style: {\n            marginBottom: '10px',\n            cursor: 'pointer'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Text, {\n          strong: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 11\n          }\n        }, obj.name), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 41\n          }\n        }), /*#__PURE__*/React.createElement(Text, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 11\n          }\n        }, \"Contract Address : \", obj.owner));\n      }))), /*#__PURE__*/React.createElement(_Modal, {\n        title: \"Create New Fund\",\n        visible: this.state.createCampVisible,\n        onOk: this.createCampClicked,\n        onCancel: () => this.toggleModal('createCampVisible', false),\n        confirmLoading: this.state.confirmLoading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(_Input, {\n        placeholder: \"Name\",\n        name: \"name\",\n        value: this.state.name,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 8\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 101\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 107\n        }\n      }), /*#__PURE__*/React.createElement(_Input.TextArea, {\n        placeholder: \"Description\",\n        name: \"desc\",\n        value: this.state.desc,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 8\n        }\n      }), /*#__PURE__*/React.createElement(Text, {\n        type: \"warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 8\n        }\n      }, this.state.ModalText))), /*#__PURE__*/React.createElement(_Col, {\n        style: {\n          textAlign: 'center'\n        },\n        sm: 24,\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 6\n        }\n      }, ' ', /*#__PURE__*/React.createElement(\"img\", {\n        className: \"hero-img\",\n        src: HeroImg,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 7\n        }\n      }))), /*#__PURE__*/React.createElement(_Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"footer\", {\n        className: \"classfooter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        viewBox: \"0 0 120 28\",\n        className: \"classwave\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"defs\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(\"path\", {\n        id: \"wave\",\n        d: \"M 0,10 C 30,10 30,15 60,15 90,15 90,10 120,10 150,10 150,15 180,15 210,15 210,10 240,10 v 28 h -240 z\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 9\n        }\n      })), /*#__PURE__*/React.createElement(\"use\", {\n        id: \"wave3\",\n        className: \"wave\",\n        xlinkHref: \"#wave\",\n        x: 0,\n        y: -1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 8\n        }\n      }), /*#__PURE__*/React.createElement(\"use\", {\n        id: \"wave2\",\n        className: \"wave\",\n        xlinkHref: \"#wave\",\n        x: 0,\n        y: 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 8\n        }\n      }))), \";\"))\n    );\n  }\n\n}\n\nexport default Landing;","map":{"version":3,"sources":["/home/ad3sh/Documents/client/src/components/landing.jsx"],"names":["React","Logo","Workflow","Features","Teams","Footer","Graph","Text","Link","Landing","Component","constructor","props","componentDidMount","parentContract","accounts","web3","methods","getAllDeployedFunds","call","from","gas","then","result","i","length","getDetails","toggleModal","type","bool","setState","liveCampClicked","name","owner","console","log","handleChange","e","target","value","createCampClicked","state","substring","error","checkifcampexists","hasOwnProperty","ModalText","confirmLoading","desc","createFunds","send","success","contractadd","t","liveCamp","push","createCampVisible","x","catch","liveCampVisible","funds","mapNametoAddress","add","flag","eth","net","getId","getDetailsOfFund","fundinfo","render","height","width","overflowY","map","obj","key","marginBottom","cursor","textAlign","HeroImg"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Row, Col, Button, Modal, Card, Input } from 'antd';\nimport HeroImg from './hero.svg';\nimport Logo from './logo.png';\nimport Workflow from './workflow';\nimport Features from './features';\nimport Teams from '../containers/teams/teams';\nimport Footer from '../containers/footer/footer';\nimport { message } from 'antd';\nimport { Typography, Space } from 'antd';\nimport { Graph } from \"react-d3-graph\";\nimport './waterflow.css';\n\n\nconst { Text, Link } = Typography;\nclass Landing extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { liveCampVisible: false, createCampVisible: false, liveCamp: [], name: '', desc: '', funds: [], mapNametoAddress: {}, checkifcampexists: {}, confirmLoading: false, ModalText: '' };\n\t}\n\tgetDetails(add, parentContract, accounts) {\n\n\t\tlet flag = true;\n\t\tthis.props.web3.web3.eth.net.getId().then((result) => {\n\t\t\tif (result == 15001) {\n\t\t\t\tflag = false;\n\t\t\t}\n\t\t}).then(() => {\n\n\t\t\tparentContract.methods.getDetailsOfFund(add).call({ from: accounts[0], gas: 3000000 })\n\t\t\t\t.then((fundinfo) => {\n\t\t\t\t\t// If you are wondering why did I add this weird conditions here\n\t\t\t\t\t// Thats due to immutabilty of blockchain, let me explain\n\t\t\t\t\t// Follwing are the funds in which the names of authorities were duplicaated beause of bug in frontend\n\t\t\t\t\t// Due to which its functions are unstable\n\t\t\t\t\t// If you are migratiing on new contart address on matic, remove this conditions\n\n\t\t\t\t\t//for \"check\" condition its included for testing on local host\n\t\t\t\t\tconsole.log(fundinfo.name.substring(0, 5));\n\t\t\t\t\tif (flag | (fundinfo.name != 'Federal Taxes' && fundinfo.name != 'Federal Tax' && fundinfo.name != 'pmcares' && fundinfo.name.substring(0, 5) != \"Check\")) {\n\t\t\t\t\t\tlet t = this.state.liveCamp;\n\t\t\t\t\t\tt.push({ 'name': fundinfo.name, 'owner': add });\n\t\t\t\t\t\tthis.setState({ liveCamp: t });\n\n\t\t\t\t\t\tlet x = this.state.checkifcampexists;\n\t\t\t\t\t\tx[fundinfo.name] = true;\n\t\t\t\t\t\tthis.setState({ checkifcampexists: x });\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlet x = this.state.checkifcampexists;\n\t\t\t\t\t\tx[fundinfo.name] = true;\n\t\t\t\t\t\tthis.setState({ checkifcampexists: x });\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t})\n\t}\n\tcomponentDidMount = async () => {\n\n\t\tconst { parentContract, accounts } = this.props.web3;\n\n\t\tparentContract.methods.getAllDeployedFunds().call({ from: accounts[0], gas: 3000000 })\n\t\t\t.then((result) => {\n\t\t\t\tlet i;\n\t\t\t\tfor (i = 0; i < result.length; i++) {\n\t\t\t\t\tthis.getDetails(result[i], parentContract, accounts);\n\t\t\t\t}\n\t\t\t})\n\n\t};\n\ttoggleModal = (type, bool) => {\n\t\tthis.setState({ [type]: bool });\n\t}\n\tliveCampClicked = (name, owner) => {\n\t\tconsole.log(name, owner);\n\t\tthis.props.liveCampClicked(name, owner);\n\n\t}\n\thandleChange = e => {\n\t\tvar name = e.target.name;\n\t\tthis.setState({ [name]: e.target.value });\n\t}\n\n\tcreateCampClicked = () => {\n\n\n\n\t\tif (this.state.name.substring(0, 5) == \"Check\") {\n\t\t\tmessage.error('Fund name Check# is reserved for testing purposes, please use any other fund name');\n\t\t}\n\t\telse if (!this.state.checkifcampexists.hasOwnProperty(this.state.name)) {\n\t\t\tthis.setState({\n\t\t\t\tModalText: 'Please confirm transaction in your wallet provider, and wait till its confirmed',\n\t\t\t\tconfirmLoading: true,\n\t\t\t});\n\n\t\t\tconsole.log(this.state.name, this.state.desc);\n\t\t\tconst { parentContract, accounts } = this.props.web3;\n\t\t\tparentContract.methods.createFunds(this.state.name, this.state.desc).send({ from: accounts[0], gas: 3000000 })\n\t\t\t\t.then(() => {\n\n\t\t\t\t\tmessage.success('New Fund Created Succesfully');\n\t\t\t\t\tlet contractadd;\n\t\t\t\t\tparentContract.methods.getAllDeployedFunds().call({ from: accounts[0], gas: 3000000 }).\n\t\t\t\t\t\tthen((result) => {\n\n\t\t\t\t\t\t\tcontractadd = result[result.length - 1];\n\t\t\t\t\t\t\tlet t = this.state.liveCamp\n\t\t\t\t\t\t\tt.push({ name: this.state.name, owner: contractadd });\n\t\t\t\t\t\t\tthis.setState({ liveCamp: t });\n\t\t\t\t\t\t\tthis.setState({ createCampVisible: false, name: '', desc: '' });\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tModalText: \"\",\n\t\t\t\t\t\t\t\tconfirmLoading: false,\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tlet x = this.state.checkifcampexists;\n\t\t\t\t\t\t\tx[this.state.name] = true;\n\t\t\t\t\t\t\tthis.setState({ checkifcampexists: x });\n\t\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\t\t.catch(() => {\n\t\t\t\t\tmessage.error('Sorry your TX was not successful Please try again');\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tModalText: \"\",\n\t\t\t\t\t\tconfirmLoading: false,\n\t\t\t\t\t});\n\t\t\t\t})\n\n\t\t}\n\t\telse {\n\t\t\tif (this.state.name == 'Federal Taxes' | this.state.name == 'Federal Tax' | this.state.name == 'pmcares') {\n\t\t\t\tmessage.error(`We have disabld ${this.state.name} as fund name to avoid ambiguity with existing funds`);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmessage.error('Fund with given name already exist');\n\t\t\t}\n\n\t\t}\n\n\t}\n\trender() {\n\t\treturn (\n\t\t\t/* Landing Hero Section */\n\t\t\t<div className=\"landing\">\n\t\t\t\t<Row className=\"hero\">\n\t\t\t\t\t<Col sm={24} md={12} className=\"hero-txt\">\n\t\t\t\t\t\t<img src={Logo} style={{ height: '100px', width: 'auto' }} />\n\t\t\t\t\t\t<div className=\"hero-title\">AID Donation Tracking</div>\n\t\t\t\t\t\t<div className=\"hero-details\">\n\t\t\t\t\t\t\tA Blockchain based Donation Tracker<br />\n\t\t\t\t\t\t\t<div className=\"tagline\">\n\t\t\t\t\t\t\t\tTransparent as Water\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div><br />\n\t\t\t\t\t\t \n\t\t\t\t\t\t<Button onClick={() => this.toggleModal('createCampVisible', true)} size=\"large\" type=\"primary\">Create New Fund</Button>\n\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\tvisible={this.state.liveCampVisible}\n\t\t\t\t\t\t\ttitle=\"Live Funds\"\n\t\t\t\t\t\t\tonOk={() => this.toggleModal('liveCampVisible', false)}\n\t\t\t\t\t\t\tonCancel={() => this.toggleModal('liveCampVisible', false)}\n\t\t\t\t\t\t\tfooter={[\n\t\t\t\t\t\t\t\t<Button key=\"back\" type=\"primary\" onClick={() => this.toggleModal('liveCampVisible', false)}>\n\t\t\t\t\t\t\t\t\tReturn\n            \t\t\t\t\t</Button>\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div style={{ overflowY: 'auto', height: '350px' }}>\n\t\t\t\t\t\t\t\t{this.state.liveCamp.map((obj, key) => {\n\t\t\t\t\t\t\t\t\treturn <Card key={key} onClick={() => this.liveCampClicked(obj.name, obj.owner)} style={{ marginBottom: '10px', cursor: 'pointer' }}>\n\n\n\t\t\t\t\t\t\t\t\t\t<Text strong>{obj.name}</Text><br />\n\t\t\t\t\t\t\t\t\t\t<Text>Contract Address : {obj.owner}</Text>\n\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\ttitle=\"Create New Fund\"\n\t\t\t\t\t\t\tvisible={this.state.createCampVisible}\n\t\t\t\t\t\t\tonOk={this.createCampClicked}\n\t\t\t\t\t\t\tonCancel={() => this.toggleModal('createCampVisible', false)}\n\t\t\t\t\t\t\tconfirmLoading={this.state.confirmLoading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input placeholder=\"Name\" name='name' value={this.state.name} onChange={this.handleChange} /><br /><br />\n\t\t\t\t\t\t\t<Input.TextArea placeholder=\"Description\" name='desc' value={this.state.desc} onChange={this.handleChange} />\n\t\t\t\t\t\t\t<Text type=\"warning\">{this.state.ModalText}</Text>\n\n\t\t\t\t\t\t</Modal>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col style={{ textAlign: 'center' }} sm={24} md={12}>\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t<img className=\"hero-img\" src={HeroImg} />\n\t\t\t\t\t\t{/* <Graph\n\t\t\t\t\t\t\tid=\"graph-id\" // id is mandatory, if no id is defined rd3g will throw an error\n\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\tconfig={myConfig}\n\t\t\t\t\t\t// onClickNode={this.onClickNode}\n\t\t\t\t\t\t// onClickLink={this.onClickLink}\n\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t{/* <img className=\"hero-img\" src={HeroImg} /> */}\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<footer className=\"classfooter\">\n\t\t\t\t\t\t<svg viewBox=\"0 0 120 28\" className=\"classwave\">\n\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t<path id=\"wave\" d=\"M 0,10 C 30,10 30,15 60,15 90,15 90,10 120,10 150,10 150,15 180,15 210,15 210,10 240,10 v 28 h -240 z\" />\n\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t<use id=\"wave3\" className=\"wave\" xlinkHref=\"#wave\" x={0} y={-1} />\n\t\t\t\t\t\t\t<use id=\"wave2\" className=\"wave\" xlinkHref=\"#wave\" x={0} y={0} />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</footer>;\n\t\t\t\t</Row>\n\n\n\t\t\t\t{/* <Features /> */}\n\n\t\t\t\t{/* <Workflow /> */}\n\t\t\t\t{/*<Teams/>\n\t\t\t\t<Footer/> */}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Landing;"]},"metadata":{},"sourceType":"module"}